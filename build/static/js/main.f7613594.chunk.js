(this["webpackJsonpfam-photos"]=this["webpackJsonpfam-photos"]||[]).push([[0],{154:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){"use strict";n.r(t);var o=n(7),a=n(0),r=n.n(a),c=n(24),i=n.n(c),s=(n(154),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,327)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),o(e),a(e),r(e),c(e)}))}),l=n(49),u=n(70),d=n(64),j=n(65),h=n(137),b=n(136),p=n(66),O=n(323),f=n(324),m=n(10);var v=n(11),x=n(319),P=n(318),w=n(325),g=n(326),y=n(321),E=n(314),D=n(316),N=n(317),k=n(134),M=n.n(k),T=n(135),C=n.n(T),L=n(320),_=n(72),B=n(14),I=n(322),F=240;var S=Object(I.a)((function(e){return{root:{display:"flex"},drawer:Object(v.a)({},e.breakpoints.up("sm"),{width:F,flexShrink:0}),appBar:{zIndex:e.zIndex.drawer+1},menuButton:Object(v.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:F},content:{flexGrow:1},closeMenuButton:{marginRight:"auto",marginLeft:0}}})),A=function(e){var t=S(),n=Object(B.a)(),a=r.a.useState(!1),c=Object(m.a)(a,2),i=c[0],s=c[1];function l(){s(!i)}var u=Object(o.jsx)("div",{children:Object(o.jsx)(E.a,{children:["All photos"].map((function(e){return Object(o.jsx)(D.a,{button:!0,children:Object(o.jsx)(N.a,{primary:e})},e)}))})});return Object(o.jsxs)("div",{className:t.root,children:[Object(o.jsx)(P.a,{}),Object(o.jsx)(x.a,{position:"fixed",className:t.appBar,children:Object(o.jsxs)(L.a,{children:[Object(o.jsx)(y.a,{color:"inherit","aria-label":"Open drawer",edge:"start",onClick:l,className:t.menuButton,children:Object(o.jsx)(M.a,{})}),Object(o.jsx)(_.a,{variant:"h6",noWrap:!0,children:"McNamara Photos"})]})}),Object(o.jsxs)("nav",{className:t.drawer,children:[Object(o.jsx)(g.a,{smUp:!0,implementation:"css",children:Object(o.jsxs)(w.a,{variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:i,onClose:l,classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0},children:[Object(o.jsx)(y.a,{onClick:l,className:t.closeMenuButton,children:Object(o.jsx)(C.a,{})}),u]})}),Object(o.jsx)(g.a,{smDown:!0,implementation:"css",children:Object(o.jsxs)(w.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},children:[Object(o.jsx)("div",{className:t.toolbar}),u]})})]}),Object(o.jsxs)("div",{className:t.content,children:[Object(o.jsx)("div",{className:t.toolbar}),e.children]})]})};var U=function(e){var t=function(){var e="undefined"!==typeof window;function t(){var t=e?window.innerWidth:null;return{width:t,height:e?window.innerHeight:null,isMobile:t<768,isTablet:t>=768&&t<1024,isDesktop:t>=1024}}var n=Object(a.useState)(t()),o=Object(m.a)(n,2),r=o[0],c=o[1],i=function(){c(t())};return Object(a.useEffect)((function(){if(e)return window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}}),[e]),r}(),n=t.width,r=t.isMobile,c=t.isTablet,i=Object(a.useRef)(null),s=r?1:c?2:3,l=function(){var e=n-20;return r?e:c?Math.round((e-F)/2):Math.round((e-F)/3)}();return Object(o.jsx)(O.a,{cols:s,ref:i,children:e.photos.map((function(e,t){return Object(o.jsx)(f.a,{children:Object(o.jsx)(p.Image,{publicId:e.public_id,"fetch-format":"auto",quality:"auto",crop:"scale",width:l},t)},t)}))})},H="PHOTOS_FETCHED",R="DELETE_UPLOADED_PHOTO",z="UPDATE_UPLOADED_PHOTO",J=function(e,t){return e.photos[t]},W=(n(31),n(280),"nineteesvintage"),q="YOUR_UPLOAD_PRESET",G=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/images").then((function(e){return e.json()})).then((function(e){return{resources:e}})).then((function(t){e.props.onPhotosFetched(t.resources)}))}},{key:"render",value:function(){var e=this.props.allPhotos,t=void 0===e?[]:e;return Object(o.jsx)("div",{className:"App-main",children:Object(o.jsx)(p.CloudinaryContext,{cloudName:W,uploadPreset:q,children:Object(o.jsx)(A,{children:Object(o.jsx)(U,{photos:t})})})})}}]),n}(a.Component),Y=Object(u.b)((function(e){return{allPhotos:J(e,"allPhotos")}}),{onPhotosFetched:function(e){return{type:H,allPhotos:e}}})(G),K=n(36),Q=function(e){return console.log(e),e},V={allPhotos:[]},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return console.log(t),console.log(Q(t.allPhotos)),Object(K.a)(Object(K.a)({},e),{},{allPhotos:Q(t.allPhotos)||[]});default:return Object(K.a)({},e)}},Z=n(13),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=-1,o=e.map((function(e,o){return e.id===t.uploadedPhoto.id?(n=o,Object(K.a)(Object(K.a)({},e),t.uploadedPhoto)):e}));return-1!==n?o:[t.uploadedPhoto].concat(Object(Z.a)(e));case R:var a=e.findIndex((function(e){return e.response.body.public_id===t.publicId}));return[].concat(Object(Z.a)(e.slice(0,a)),Object(Z.a)(e.slice(a+1)));default:return Object(Z.a)(e)}},ee=Object(l.b)({photos:X,uploadedPhotos:$}),te=Object(l.c)(ee);i.a.render(Object(o.jsxs)(r.a.StrictMode,{children:[Object(o.jsx)(u.a,{store:te,children:Object(o.jsx)(Y,{})}),","]}),document.getElementById("root")),s()}},[[281,1,2]]]);
//# sourceMappingURL=main.f7613594.chunk.js.map